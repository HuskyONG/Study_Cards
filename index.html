<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Study by the Deck</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

<style>
:root {
  --bg:#f5f0eb; --surface:#fefcf9; --accent:#c17f5a; --accent2:#7a9e87;
  --text:#3a2e28; --muted:#9a8a7e; --shadow:rgba(100,70,50,0.12);
  --red:#c0443a; --black:#2a2420; --disabled:#d0c8c0; --disabled-text:#b0a89e;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:Lato;background:var(--bg);color:var(--text);padding:24px 16px 40px}

h1{font-family:"Playfair Display";text-align:center;margin-bottom:4px}
.subtitle{text-align:center;color:var(--muted);margin-bottom:20px;font-size:.9rem}

.tab-bar{display:flex;justify-content:center;gap:10px;margin-bottom:20px}
.tab{padding:8px 18px;border-radius:50px;border:1px solid #ddd;cursor:pointer;font-weight:700}
.tab.active{background:var(--accent);color:white;border-color:var(--accent)}

.section{background:var(--surface);border-radius:16px;padding:14px;margin:0 auto 20px;max-width:600px;box-shadow:0 2px 12px var(--shadow)}

.timer-display{font-family:"Playfair Display";font-size:3.5rem;text-align:center;margin:10px 0}
.controls{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}

.btn{padding:10px 18px;border:none;border-radius:50px;font-weight:700;cursor:pointer}
.btn-primary{background:var(--accent);color:white}
.btn-secondary{background:var(--accent2);color:white}
.btn-ghost{background:transparent;border:1px solid #ddd;color:var(--muted)}

.hidden{display:none}
input{padding:8px 12px;border-radius:50px;border:1px solid #ddd}
</style>
</head>

<body>

<h1>Study by the Deck</h1>
<p class="subtitle">Cards or Pomodoro ‚Äî choose your focus style</p>

<!-- TABS -->
<div class="tab-bar">
  <div class="tab active" id="deckTab">üÉè Deck Mode</div>
  <div class="tab" id="pomoTab">üçÖ Pomodoro</div>
</div>

<!-- ================= DECK MODE ================= -->
<div id="deckMode">

<div class="section">
<b>üë§ Studying Now</b>
<div id="usersList" style="margin-top:10px"></div>
<button class="btn btn-ghost" id="addUserBtn">+ Add User</button>
</div>

<!-- MULTIPLIER -->
<div class="section">
<b>‚è± Study Multiplier</b>
<div style="display:flex;gap:10px;margin-top:8px">
<input type="number" id="multiplierInput" value="10" min="1">
<button class="btn btn-secondary" id="applyMultiplierBtn">Apply</button>
</div>
</div>

<!-- TIMER -->
<div class="section">
<div class="timer-display" id="timerDisplay">00:00</div>
<div style="text-align:center;margin-bottom:10px" id="timerLabel">Draw a card</div>
<div class="controls">
<button class="btn btn-primary" id="drawBtn">Draw</button>
<button class="btn btn-secondary" id="startStopBtn">Start</button>
<button class="btn btn-ghost" id="resetTimerBtn">Reset</button>
</div>
</div>

</div>

<!-- ================= POMODORO MODE ================= -->
<div id="pomoMode" class="hidden">

<div class="section">
<b>Pomodoro Settings</b>
<div style="display:flex;gap:10px;margin-top:8px">
<label>Focus <input type="number" id="focusInput" value="25"></label>
<label>Break <input type="number" id="breakInput" value="5"></label>
</div>
</div>

<div class="section">
<div class="timer-display" id="pomoDisplay">25:00</div>
<div style="text-align:center;margin-bottom:10px" id="pomoLabel">Focus Time</div>
<div class="controls">
<button class="btn btn-primary" id="pomoStart">Start</button>
<button class="btn btn-ghost" id="pomoReset">Reset</button>
</div>
<div style="text-align:center;margin-top:8px">Sessions: <span id="sessionCount">0</span></div>
</div>

</div>

<script>
// ================= TAB SWITCH =================
const deckMode=document.getElementById("deckMode")
const pomoMode=document.getElementById("pomoMode")
document.getElementById("deckTab").onclick=()=>{deckMode.classList.remove("hidden");pomoMode.classList.add("hidden");toggleTabs(0)}
document.getElementById("pomoTab").onclick=()=>{pomoMode.classList.remove("hidden");deckMode.classList.add("hidden");toggleTabs(1)}
function toggleTabs(i){
document.querySelectorAll(".tab").forEach((t,index)=>t.classList.toggle("active",index===i))
}

// ================= MULTIPLIER =================
let STUDY_MULTIPLIER=10
document.getElementById("applyMultiplierBtn").onclick=()=>{
const v=parseInt(multiplierInput.value)
if(v>0)STUDY_MULTIPLIER=v
}

// ================= SIMPLE CARD TIMER =================
let timeLeft=0,totalTime=0,interval=null,running=false
function format(s){return String(Math.floor(s/60)).padStart(2,"0")+":"+String(s%60).padStart(2,"0")}

function drawCard(){
const value=Math.floor(Math.random()*13)+1
const mins=value*STUDY_MULTIPLIER
totalTime=timeLeft=mins*60
timerDisplay.textContent=format(timeLeft)
timerLabel.textContent=value+" √ó "+STUDY_MULTIPLIER+" = "+mins+" mins"
}
drawBtn.onclick=drawCard

startStopBtn.onclick=()=>{
if(!running){
running=true
interval=setInterval(()=>{
timeLeft--
timerDisplay.textContent=format(timeLeft)
if(timeLeft<=0){clearInterval(interval);running=false}
},1000)
}else{
running=false
clearInterval(interval)
}
}

resetTimerBtn.onclick=()=>{clearInterval(interval);running=false;timeLeft=totalTime;timerDisplay.textContent=format(timeLeft)}

// ================= POMODORO =================
let pomoTime=25*60,pomoRunning=false,pomoInterval=null,onBreak=false,sessions=0

function updatePomoDisplay(){
pomoDisplay.textContent=format(pomoTime)
pomoLabel.textContent=onBreak?"Break":"Focus Time"
}

pomoStart.onclick=()=>{
if(!pomoRunning){
pomoRunning=true
pomoInterval=setInterval(()=>{
pomoTime--
updatePomoDisplay()
if(pomoTime<=0){
clearInterval(pomoInterval)
pomoRunning=false
if(!onBreak){sessions++;sessionCount.textContent=sessions}
onBreak=!onBreak
pomoTime=(onBreak?breakInput.value:focusInput.value)*60
updatePomoDisplay()
}
},1000)
}
}

pomoReset.onclick=()=>{
clearInterval(pomoInterval)
pomoRunning=false
onBreak=false
pomoTime=focusInput.value*60
updatePomoDisplay()
}

updatePomoDisplay()

// ================= USERS (simple demo) =================
let users=["Me"]
function renderUsers(){
usersList.innerHTML=""
users.forEach(u=>{
const el=document.createElement("div")
el.textContent=u
usersList.appendChild(el)
})
}
renderUsers()
addUserBtn.onclick=()=>{
const n=prompt("Name?")
if(n){users.push(n);renderUsers()}
}
</script>

</body>
</html>